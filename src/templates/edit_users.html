{% extends 'base.html' %}

{% block head %}
    <title id="page-title">Edit users</title>
{% endblock %}

{% block scripts %}
    <script defer src="/static/scripts/user.js"></script>
{% endblock %}

<!-- - Inspect datails
- Check their database(s)
- Extract a dump from that database
- Remove from system
- Change role -->

{% block content %}
    <div class="vh-100 d-flex flex-column">
        {% include 'navbar.html' %}

        <div class="container-fluid py-3 py-lg-5 flex-grow-1 d-flex px-2 px-lg-5 ">
            <div class="row center-block flex-row flex-grow-1">
                <div class="col-12 col-lg-6 mt-5 mt-lg-0 d-flex">
                    <div class=" center-block
    container border border-dark rounded-lg shadow-lg bg-white p-3 py-lg-5 text-center">


                        <div class="row d-flex flex-column">
                            <div class="col-12"><h3>Users</h3></div>
                            <div class="col-12">
                                <hr>
                            </div>
                            <div class="col-12 d-flex flex-column flex-grow-1">
                                <input class="form-control mb-3" type="text" id="search" placeholder="Search...">
                                <div class="overflow-auto tableFixHead" style="height: 48vh;">
                                    <table id="user_table"
                                           class="table table-sm table-hover table-fixed table-borderless table-striped">
                                        <thead class="bg-dark text-light sticky-top">
                                        <tr>
                                            <th class="th-sm" scope="col">#</th>
                                            <th class="th-sm" scope="col">Role</th>
                                            <th class="th-sm" scope="col">E-Mail</th>
                                            <th class="th-sm" scope="col">Verified</th>
                                        </tr>
                                        </thead>
                                        <tbody id="users" class="nav-pills" role="tablist">
                                        <tr class="spinner-border text-info"></tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-6 mt-5 mt-lg-0 d-flex">

                    <div class=" center-block
    container border border-dark rounded-lg shadow-lg bg-white p-3 py-lg-5 text-center">
                                                                                        <div id="alert-div"></div>

                        <div class="tab-content" id="users-tabs">


                            <div class="tab-pane active" id="please-select-a-user"><h1>Please select a user</h1></div>

                            <div class="tab-pane" id="edit-user-pane">


                                <div id="user-details-div">


                                    <div class="form-group row">
                                        <div class="col-12 text-center h5">User details</div>
                                        <hr class="col-12">
                                        <label class="col-12 col-lg-4 col-form-label">Username:</label>
                                        <div class="col-12 col-lg-8"><input id="username" type="text"
                                                                            class="form-control" value=""
                                                                            readonly=""></div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-12 col-lg-4 col-form-label">Role:</label>
                                        <div class="col-12 col-lg-8">
                                            <select id="selected-role" class="form-control" disabled>
                                                <option value="0">Admin</option>
                                                <option value="1">Teacher</option>
                                                <option value="2">Student</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-12 col-lg-4">
                                            <label>Verified: </label>
                                            <div class="d-inline" id="verified"></div>
                                        </div>

                                        <div class="col-12 col-lg-4">
                                            <button id="edit-button" type="button" class="btn btn-secondary btn-block"
                                                    data-toggle="modal"
                                                    data-target="#editUserRoleModal">
                                                Edit Role
                                            </button>
                                        </div>
                                        <div class="col-12 col-lg-4">
                                            <button id="delete-button" type="button" class="mt-3 mt-lg-0 btn btn-danger btn-block">
                                                Delete User
                                            </button>
                                        </div>
                                    </div>
                                    {##}
                                    {##}
                                    {#                                        <div class="mt-5 form-group row">#}
                                    {#                                            <label class="col-12 col-md-4 col-form-label">Username:</label>#}
                                    {#                                            <div class="col-12 col-md-8">#}
                                    {#                                                <input type="text" class="form-control"#}
                                    {#                                                       value="dab_Pearls_of_Computer_Science_20" readonly="">#}
                                    {#                                            </div>#}
                                    {#                                        </div>#}
                                    {#                                        <div class="form-group row">#}
                                    {#                                            <label class="col-12 col-md-4 col-form-label">Password:</label>#}
                                    {#                                            <div class="col-12 col-md-8">#}
                                    {#                                                <input type="text" class="form-control" value="ZZmzkzuoC71rXTQf"#}
                                    {#                                                       readonly="">#}
                                    {#                                            </div>#}
                                    {#                                        </div>#}
                                    {#                                        <div class="align-items-center align-items-stretch row">#}
                                    {#                                            <div class="center-block col-12 col-md-4 my-2 my-md-4 d-flex">#}
                                    {#                                                <button id="delete-button-571"#}
                                    {#                                                        class="btn btn-danger delete-button btn-block">Delete database#}
                                    {#                                                    and release credentials#}
                                    {#                                                </button>#}
                                    {#                                            </div>#}
                                    {#                                            <div class="center-block col-12 col-md-4 my-2 my-md-4 d-flex">#}
                                    {#                                                <button id="reset-button-571"#}
                                    {#                                                        class="btn btn-info reset-button btn-block">Reset database#}
                                    {#                                                </button>#}
                                    {#                                            </div>#}
                                    {#                                            <div class="center-block col-12 col-md-4 my-2 my-md-4 d-flex">#}
                                    {#                                                <button onclick="window.location.replace('/rest/dump/571/')"#}
                                    {#                                                        id="dump-button-571"#}
                                    {#                                                        class="btn btn-secondary dump-button btn-block">Get dump of#}
                                    {#                                                    database#}
                                    {#                                                </button>#}
                                    {#                                            </div>#}
                                    {#                                        </div>#}
                                    {#                                        <hr>#}
                                </div>

                                <hr/>
                                <h5>Databases for this user</h5>
                                <div class="row">
                                    <div class="col-12 col-md-5 col-lg-12 col-xl-5">
                                        <div class="overflow-auto border rounded" style="height: 30vh;">
                                            <div class="nav flex-column nav-pills" id="courses-nav" role="tablist">
                                                {#                                    <div class="spinner-border text-info"></div>#}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-7 col-lg-12 col-xl-7 mt-0 mt-xl-3">
                                        <div class="tab-content mx-1" id="courses-db">
                                            No database selected
                                            {#                                <div class="spinner-border text-info"></div>#}
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>

            </div>


        </div>
    </div>
    </div>




{% endblock %}
